1
00:00:00,000 --> 00:00:01,050
< No Speech >

2
00:00:01,050 --> 00:00:05,850
这节课我们再来讲解一下MySQL当中的用户管理

3
00:00:05,850 --> 00:00:09,450
MySQL是一个多用户的数据库系统

4
00:00:09,450 --> 00:00:12,690
按权限,它的用户网可以分为两种

5
00:00:12,690 --> 00:00:16,170
一种就是root用户,它是超级管理员

6
00:00:16,170 --> 00:00:20,010
另一种就是由root用户所创建的普通用户

7
00:00:20,010 --> 00:00:24,010
那么我们现在是用的哪个用户来操作MySQL?

8
00:00:24,010 --> 00:00:28,330
我们一直用的都是root用户,也就是超级管理员

9
00:00:28,330 --> 00:00:30,170
那么它的权限是最大的

10
00:00:30,170 --> 00:00:33,370
它可以对MySQL进行所有的操作

11
00:00:33,370 --> 00:00:35,290
那么大家想这样一个问题

12
00:00:35,290 --> 00:00:37,530
未来在使用MySQL的时候

13
00:00:37,530 --> 00:00:41,370
我们可能让所有人都用root用户去操作MySQL吗?

14
00:00:41,370 --> 00:00:42,810
答案肯定是否定的

15
00:00:42,810 --> 00:00:45,130
这样会造成一个权限的泛滥

16
00:00:45,130 --> 00:00:48,170
那么对于MySQL而言也是极不安全的

17
00:00:48,170 --> 00:00:52,250
那么在我们真正的环境当中

18
00:00:52,250 --> 00:00:55,050
MySQL的root用户只给一个人

19
00:00:55,050 --> 00:00:57,210
谁呢?就是公司的DBA

20
00:00:57,210 --> 00:01:00,410
也就是我们之前所讲过的数据库管理员

21
00:01:00,410 --> 00:01:02,970
只有它拥有root用户的权限

22
00:01:02,970 --> 00:01:05,930
那么当我们想使用MySQL时

23
00:01:05,930 --> 00:01:09,850
DBA会通过root用户为我们去创建普通用户

24
00:01:09,850 --> 00:01:13,690
并且根据我们的需求去分配相应的权限

25
00:01:13,690 --> 00:01:15,050
明白这些吧?

26
00:01:15,050 --> 00:01:17,130
那么接下来我们就来看一下

27
00:01:17,130 --> 00:01:21,530
如何通过root用户去创建普通用户呢?

28
00:01:21,530 --> 00:01:26,250
创建用户的语句用的仍然是我们之前所讲的DDL语句

29
00:01:26,250 --> 00:01:28,010
Create什么什么什么

30
00:01:28,010 --> 00:01:31,690
那么创建用户的命令语句是Create user

31
00:01:31,690 --> 00:01:33,290
然后用户名

32
00:01:33,290 --> 00:01:35,210
这个用户名你可以加到单眼号

33
00:01:35,210 --> 00:01:37,370
两侧可以加单眼号也可以不加单眼号

34
00:01:37,370 --> 00:01:38,810
然后identified by

35
00:01:38,810 --> 00:01:40,810
这两个是关键字

36
00:01:40,810 --> 00:01:42,890
identified加by这是一个关键字

37
00:01:42,890 --> 00:01:45,130
然后后面给定的是密码

38
00:01:45,130 --> 00:01:46,810
密码一定要加到单眼号当中

39
00:01:46,810 --> 00:01:49,530
这个密码指的就是用户在登录MySQL时

40
00:01:49,530 --> 00:01:50,970
所要给定的登录密码

41
00:01:50,970 --> 00:01:52,250
明白这些吧?

42
00:01:52,250 --> 00:01:54,330
那么我们创建好用户以后

43
00:01:54,330 --> 00:01:56,330
还可以去查看这个用户

44
00:01:56,330 --> 00:01:57,370
去哪查看呢?

45
00:01:57,370 --> 00:01:59,770
在MySQL安装完以后

46
00:01:59,770 --> 00:02:01,050
MySQL安装完以后

47
00:02:01,050 --> 00:02:03,530
它有一个默认的数据库就叫MySQL

48
00:02:03,530 --> 00:02:05,770
在这个库当中有一个user表

49
00:02:05,770 --> 00:02:09,610
在这个表里就记录了在MySQL当中的所有的用户

50
00:02:09,610 --> 00:02:11,690
我们可以通过对这个表的查询

51
00:02:11,690 --> 00:02:13,770
去看用户有哪些

52
00:02:13,770 --> 00:02:17,210
那么对于这个表当中我们更关注的是两个列

53
00:02:17,210 --> 00:02:19,530
一个是user列一个是host列

54
00:02:19,530 --> 00:02:21,850
user列里记录的是这个用户名

55
00:02:21,850 --> 00:02:25,210
host列里记录的是这个用户的登录权限

56
00:02:25,210 --> 00:02:26,250
明白这些吧?

57
00:02:26,250 --> 00:02:28,890
那么其实我们可以去看一下这个表

58
00:02:28,890 --> 00:02:31,290
打开NaviCat

59
00:02:31,290 --> 00:02:33,290
现在我们是用的root用户

60
00:02:33,290 --> 00:02:35,370
来链接的MySQL服务端

61
00:02:35,370 --> 00:02:36,090
对吧?

62
00:02:36,090 --> 00:02:36,650
好

63
00:02:36,650 --> 00:02:38,490
我们可以看一下在这

64
00:02:38,490 --> 00:02:40,638
我们看链接信息

65
00:02:40,638 --> 00:02:41,754
< No Speech >

66
00:02:41,754 --> 00:02:44,234
这不就是用root用户来登录的嘛,对不对

67
00:02:44,234 --> 00:02:46,914
然后我们看这是不是有个mysql库啊

68
00:02:46,914 --> 00:02:48,474
双击把这个库打开

69
00:02:48,474 --> 00:02:50,474
然后这里表你看有一个user表

70
00:02:50,474 --> 00:02:52,954
我们双击打开这个表可以看到

71
00:02:52,954 --> 00:02:55,074
现在在这个表里有很多的信息

72
00:02:55,074 --> 00:02:56,194
有一个host列

73
00:02:56,194 --> 00:03:00,114
我说了host这个列记录的是当前用户的登录权限

74
00:03:00,114 --> 00:03:02,714
那么至于localhost是什么登录权限

75
00:03:02,714 --> 00:03:04,314
以及还有哪些登录权限

76
00:03:04,314 --> 00:03:05,754
我们后面都会讲到的

77
00:03:05,754 --> 00:03:08,594
那么user这个列记录的是你当前的用户名

78
00:03:08,594 --> 00:03:12,794
有root然后有mysql.sys

79
00:03:12,794 --> 00:03:15,354
这都是mysql安装完以后默认的用户

80
00:03:15,354 --> 00:03:16,354
那我们用的是谁呢

81
00:03:16,354 --> 00:03:17,554
就是这个root

82
00:03:17,554 --> 00:03:18,754
为什么要用root用户呢

83
00:03:18,754 --> 00:03:21,194
原因就是你看它有很多的yyyyy

84
00:03:21,194 --> 00:03:22,274
y指的是yes

85
00:03:22,274 --> 00:03:23,514
那这些又是什么呢

86
00:03:23,514 --> 00:03:25,874
这是mysql当中说自定义的

87
00:03:25,874 --> 00:03:27,074
它定义的一些角色

88
00:03:27,074 --> 00:03:29,794
角色里又对应的权限

89
00:03:29,794 --> 00:03:30,874
那说明什么呢

90
00:03:30,874 --> 00:03:34,194
说明它root这个用户它包含了很多的

91
00:03:34,194 --> 00:03:36,274
应该是所有的权限

92
00:03:36,274 --> 00:03:37,474
明白这一次吧

93
00:03:37,474 --> 00:03:39,474
所以说root用户它是超级管理员

94
00:03:39,474 --> 00:03:41,714
那么这些角色是什么意思

95
00:03:41,714 --> 00:03:42,394
我们不用管它

96
00:03:42,394 --> 00:03:44,074
我们后面会直接讲权限的

97
00:03:44,074 --> 00:03:44,714
明白这意思吧

98
00:03:44,714 --> 00:03:47,594
我们也可以为某个用户去分配一些权限的

99
00:03:47,594 --> 00:03:49,234
OK

100
00:03:49,234 --> 00:03:49,594
好

101
00:03:49,594 --> 00:03:54,194
这是我们通过mysql库下的user表所看到的

102
00:03:54,194 --> 00:03:54,674
好

103
00:03:54,674 --> 00:03:57,794
那么接下来我们是不是也可以自己去创建用户了

104
00:03:57,794 --> 00:03:58,074
对吧

105
00:03:58,074 --> 00:04:00,834
比如说我现在用root用户去创建一个叫

106
00:04:00,834 --> 00:04:03,034
u下滑线上学堂的一个用户

107
00:04:03,034 --> 00:04:04,674
它的登录密码是上学堂

108
00:04:04,674 --> 00:04:05,314
可以吧

109
00:04:05,314 --> 00:04:06,954
那么对于这样的一个用户

110
00:04:06,954 --> 00:04:08,114
我们怎么创建呢

111
00:04:08,114 --> 00:04:09,794
我们这里就要去

112
00:04:09,794 --> 00:04:11,834
当然你创建用户选择哪个库都可以

113
00:04:11,994 --> 00:04:13,554
只要是你root用户

114
00:04:13,554 --> 00:04:15,074
你选择哪个库都可以

115
00:04:15,074 --> 00:04:15,594
明白这意思吧

116
00:04:15,594 --> 00:04:17,234
比如我选择北京商业堂的库

117
00:04:17,234 --> 00:04:22,234
然后用它的查询窗口去执行创建命令

118
00:04:22,234 --> 00:04:22,914
也可以的

119
00:04:22,914 --> 00:04:23,554
明白这意思吧

120
00:04:23,554 --> 00:04:25,914
不一定说非得要选择mysql这个库

121
00:04:25,914 --> 00:04:27,074
好

122
00:04:27,074 --> 00:04:28,514
create这是创建语句

123
00:04:28,674 --> 00:04:29,314
创建什么呢

124
00:04:29,314 --> 00:04:29,914
user

125
00:04:29,914 --> 00:04:31,114
然后用户名叫什么呢

126
00:04:31,114 --> 00:04:32,274
u下滑线商业堂

127
00:04:32,274 --> 00:04:32,594
对吧

128
00:04:32,594 --> 00:04:35,834
然后identify

129
00:04:35,834 --> 00:04:36,594
对吧

130
00:04:36,594 --> 00:04:38,034
然后密码叫什么呢

131
00:04:38,034 --> 00:04:38,834
叫商业堂

132
00:04:38,834 --> 00:04:39,794
OK

133
00:04:39,794 --> 00:04:41,274
然后我们运行

134
00:04:41,714 --> 00:04:42,514
看到了吗

135
00:04:42,514 --> 00:04:44,634
现在这个商业堂用户已经创建成功了

136
00:04:44,634 --> 00:04:46,234
然后接下来我们去查一下

137
00:04:46,594 --> 00:04:47,514
select

138
00:04:47,514 --> 00:04:48,994
然后user

139
00:04:48,994 --> 00:04:50,354
然后还有一个host

140
00:04:50,354 --> 00:04:53,118
然后from mysql到

141
00:04:53,850 --> 00:04:56,210
优质,对吧,买CQ点优质,是吧

142
00:04:56,210 --> 00:04:58,170
< No Speech >

143
00:04:58,170 --> 00:04:59,330
看到了吗同学们

144
00:04:59,330 --> 00:05:02,570
然后看啊现在我查到的这个User表里

145
00:05:02,570 --> 00:05:03,970
有四个用户了

146
00:05:03,970 --> 00:05:06,770
有一个User叫UserU下滑线上限长

147
00:05:06,770 --> 00:05:09,170
然后注意看host的现在不再是localhost的

148
00:05:09,170 --> 00:05:10,610
而是一个百分号是吧

149
00:05:10,610 --> 00:05:12,090
那这个百分号是什么意思呢

150
00:05:12,090 --> 00:05:13,770
我们一会会说到啊

151
00:05:13,770 --> 00:05:17,530
好这样呢我们就通过这个查看

152
00:05:17,530 --> 00:05:19,850
mysql.user这个表可以看到

153
00:05:19,850 --> 00:05:22,010
现在这个用户已经创建成功了

154
00:05:22,010 --> 00:05:23,850
那么这个用户创建成功以后

155
00:05:23,850 --> 00:05:25,930
我是不是就可以使用这个用户了呢

156
00:05:25,930 --> 00:05:27,210
答案是不可以使用的

157
00:05:27,210 --> 00:05:27,930
为什么呢

158
00:05:27,930 --> 00:05:30,610
我们还要给这个用户分配权限

159
00:05:30,610 --> 00:05:32,170
只有对它分配权限了

160
00:05:32,170 --> 00:05:33,690
我们才能用这个用户啊

161
00:05:33,690 --> 00:05:34,650
好我们看一下

162
00:05:34,650 --> 00:05:37,610
新用户创建完后是无法登录的

163
00:05:37,610 --> 00:05:39,570
需要分配权限的啊

164
00:05:39,570 --> 00:05:41,010
那么怎么分配权限呢

165
00:05:41,010 --> 00:05:44,010
权限呢有两有两块需要分配权限的

166
00:05:44,010 --> 00:05:46,490
我们来看先来看一下分配权限的语句啊

167
00:05:46,490 --> 00:05:50,010
那么分配权限的语句呢用的就是这个grant

168
00:05:50,010 --> 00:05:51,370
grant是什么语句啊

169
00:05:51,370 --> 00:05:52,770
我们cycle语句当中

170
00:05:52,770 --> 00:05:55,170
cycle语言当中有五种语言

171
00:05:55,170 --> 00:05:56,930
还有五大类语言大家还记得吧

172
00:05:56,930 --> 00:05:59,250
那么现在这里只有一类语言没讲了

173
00:05:59,250 --> 00:06:01,410
谁呢就是这个dcl

174
00:06:01,410 --> 00:06:02,770
database control language

175
00:06:02,770 --> 00:06:04,170
数据库控制语言没讲

176
00:06:04,170 --> 00:06:05,610
在这里有两种语句嘛

177
00:06:05,610 --> 00:06:06,810
一个是grant授权

178
00:06:06,810 --> 00:06:08,330
一个是rework回收权限

179
00:06:08,330 --> 00:06:09,530
明白这意思吧

180
00:06:09,530 --> 00:06:11,210
那么我们现在既然是授权了

181
00:06:11,210 --> 00:06:14,450
肯定是要用到dcl当中的grant的语句了

182
00:06:14,450 --> 00:06:14,930
对吧

183
00:06:14,930 --> 00:06:15,890
grant的

184
00:06:15,890 --> 00:06:17,530
然后权限

185
00:06:17,530 --> 00:06:22,050
这个权限呢指的是你要对数据库进行哪些操作的权限啊

186
00:06:22,050 --> 00:06:25,410
然后on后面又给了数据库当中的表

187
00:06:25,410 --> 00:06:28,170
你要对这个用户让他拥有这个权限

188
00:06:28,170 --> 00:06:31,810
对哪个数据库下的哪个表进行操作

189
00:06:31,810 --> 00:06:32,570
明白这意思吧

190
00:06:32,570 --> 00:06:33,290
然后呢

191
00:06:33,290 --> 00:06:36,170
谁哪个用户需要有这样的权限呢

192
00:06:36,170 --> 00:06:37,930
to后面给的是用户名

193
00:06:37,930 --> 00:06:41,770
追后面给一个at

194
00:06:41,770 --> 00:06:43,650
at后面给的是登录主机

195
00:06:43,650 --> 00:06:46,210
这个登录主机指的是这个用户

196
00:06:46,210 --> 00:06:52,490
他允许在什么样的一个这个主机上来链接mycycle服务端

197
00:06:52,490 --> 00:06:53,570
明白这意思吧

198
00:06:53,570 --> 00:06:56,610
然后identified by密码还要指定这个密码的

199
00:06:56,610 --> 00:06:58,290
那么这个我们可以看到

200
00:06:58,290 --> 00:07:01,410
它的权限是有两大分类的

201
00:07:01,410 --> 00:07:02,770
一个是登录权限

202
00:07:02,770 --> 00:07:05,290
这一块是设定用户的登录权限

203
00:07:05,290 --> 00:07:09,730
这一块呢是设定用户对mycycle服务端进行操作的

204
00:07:09,730 --> 00:07:11,290
对于数据库使用的权限

205
00:07:11,290 --> 00:07:12,410
这是两大块

206
00:07:12,410 --> 00:07:13,570
我们先来说这一块吧

207
00:07:13,570 --> 00:07:16,410
就是用户的登录权限

208
00:07:16,410 --> 00:07:17,970
用户名at

209
00:07:17,970 --> 00:07:19,730
这个at后面能给什么呢

210
00:07:19,730 --> 00:07:20,970
能给下面这些

211
00:07:20,970 --> 00:07:22,490
百分号我们看过吧

212
00:07:22,490 --> 00:07:23,850
localhost的看过吧

213
00:07:23,850 --> 00:07:25,450
还可以给127.0.1

214
00:07:25,450 --> 00:07:26,650
还可以给冒号冒号1

215
00:07:26,650 --> 00:07:30,090
那么在这四个登录权限当中

216
00:07:30,090 --> 00:07:32,410
这三个我们是用到的

217
00:07:32,410 --> 00:07:34,450
这个冒号冒号1一般我们很少能用到

218
00:07:34,450 --> 00:07:36,770
因为它是兼容支持IPv6的

219
00:07:36,770 --> 00:07:37,370
是吧

220
00:07:37,370 --> 00:07:38,450
那这里我们就不说了

221
00:07:38,450 --> 00:07:40,050
重点说这个前三个

222
00:07:40,050 --> 00:07:41,290
第一个百分号

223
00:07:41,290 --> 00:07:44,690
我们刚刚所创建的那个U下环线上线塘

224
00:07:44,690 --> 00:07:47,170
它的登录权限就是百分号

225
00:07:47,170 --> 00:07:49,410
也就是说我们在创建用户时

226
00:07:49,410 --> 00:07:52,690
如果没有指定登录权限

227
00:07:52,690 --> 00:07:54,410
那么它默认的就是百分号

228
00:07:54,410 --> 00:07:54,890
是吧

229
00:07:54,890 --> 00:07:56,570
那么这个百分号表示什么呢

230
00:07:56,570 --> 00:07:58,530
表示可以匹配所有的主机

231
00:07:58,530 --> 00:07:59,250
这是什么意思

232
00:07:59,250 --> 00:08:02,770
就是我们的MySQL服务端启动以后

233
00:08:02,770 --> 00:08:05,090
如果这个用户的权限

234
00:08:05,090 --> 00:08:05,850
登录权限

235
00:08:05,850 --> 00:08:07,810
登录主机的权限是百分号

236
00:08:07,810 --> 00:08:11,090
表示这个用户是可以在任何

237
00:08:11,090 --> 00:08:14,690
或者叫可以使用任何的IP地址的

238
00:08:14,690 --> 00:08:16,490
这样的设备当中

239
00:08:16,490 --> 00:08:19,038
去链接MySQL服务端

240
00:08:20,026 --> 00:08:24,066
能明白我的意思吗?比如说我们现在要远程连接一个MySQL

241
00:08:24,066 --> 00:08:26,386
那么MySQL服务端在一台设备当中

242
00:08:26,386 --> 00:08:29,186
我现在要通过NaviCat,这个NaviCat呢

243
00:08:29,186 --> 00:08:32,426
它不在这个服务端,不在这个MySQL服务器当中

244
00:08:32,426 --> 00:08:34,906
是在另一个设备当中,它的IP都不一样

245
00:08:34,906 --> 00:08:38,026
然后我用这个NaviCat去连MySQL,可不可以呢?可以的

246
00:08:38,026 --> 00:08:42,014
但是要求你连接的用户,它的登录主机必须得是NaviCat

247
00:08:42,014 --> 00:08:43,162
< No Speech >

248
00:08:43,162 --> 00:08:46,522
因为百分号表示的是可以在任意的IP下去

249
00:08:46,522 --> 00:08:47,962
链接满色扣服务端

250
00:08:47,962 --> 00:08:49,242
明白这意思吧

251
00:08:49,242 --> 00:08:52,442
那么如果我用户后面给的是localhost表示的是什么

252
00:08:52,442 --> 00:08:55,162
localhost不会解析成IP地址

253
00:08:55,162 --> 00:08:57,362
直接通过这个unix socket的链接

254
00:08:57,362 --> 00:08:58,162
这是什么意思呢

255
00:08:58,162 --> 00:09:01,202
localhost是不是指的是本机的域名

256
00:09:01,202 --> 00:09:03,002
默认域名是不是你可以这么理解

257
00:09:03,002 --> 00:09:04,882
那么其实localhost指的就是

258
00:09:04,882 --> 00:09:07,042
如果你现在这个用户后面的登录主机

259
00:09:07,042 --> 00:09:08,282
权限给的是localhost

260
00:09:08,282 --> 00:09:10,642
表示现在你的这个客户端

261
00:09:10,642 --> 00:09:14,842
只能链接本机的满色扣服务端

262
00:09:14,842 --> 00:09:17,642
你除了满色扣服务端的设备以外

263
00:09:17,642 --> 00:09:20,062
你这个用户是无法链接满色扣服务端的

264
00:09:20,634 --> 00:09:25,514
明白这意思吧?那么我们现在这个root是什么权限?登录权限是什么?

265
00:09:25,514 --> 00:09:27,514
是不是localhost?

266
00:09:27,514 --> 00:09:32,474
那也就意味着现在我想在另一个设备当中去连接我本机的这个mysql

267
00:09:32,474 --> 00:09:37,714
我用root是连不了的,为什么?因为root的host权限是localhost,只能在本机去连

268
00:09:37,714 --> 00:09:43,274
那么如果我要想用我的设备以外的设备能去连接这个用root用户连接mysql怎么办呢?

269
00:09:43,274 --> 00:09:46,714
我们必须要对它对root用户重新授权,干嘛呢?

270
00:09:46,714 --> 00:09:50,474
把它的连接权限host的改成百分号就可以了

271
00:09:50,474 --> 00:09:50,654
好了我们这个愿い就拍到这了

272
00:09:50,654 --> 00:09:51,866
< No Speech >

273
00:09:51,866 --> 00:09:54,946
能明白我的意思吗?同学们,这个同学们一定要记住

274
00:09:54,946 --> 00:09:57,946
然后还有一个就是127.0.0.1,这个很好理解了

275
00:09:57,946 --> 00:10:01,146
127.0.0.1这个指的就是本机IP

276
00:10:01,146 --> 00:10:04,986
也就是说如果你的用户名它后面的登录权限

277
00:10:04,986 --> 00:10:06,946
at服后面登录权限是这个IP

278
00:10:06,946 --> 00:10:10,586
那表示它仍然只能在这个IP去连接

279
00:10:10,586 --> 00:10:13,826
只能在本机去连接,只不过用的是IP,明白这意思吧

280
00:10:13,826 --> 00:10:16,906
然后这一块除了这些以外还可以指定具体的IP

281
00:10:16,906 --> 00:10:24,266
比如说用户名at后面给的是什么192.168.234

282
00:10:24,266 --> 00:10:29,266
那么指的是只有在192.168.234这个IP地址下

283
00:10:29,266 --> 00:10:33,586
可以用root用户或者是用某个用户去连接服务器

284
00:10:33,586 --> 00:10:36,466
买SQL的服务端,明白这意思吧

285
00:10:36,466 --> 00:10:39,666
所以它连接,允许哪个客户端去连接买SQL

286
00:10:39,666 --> 00:10:42,266
这是有一个连接登录主机的一个连接权限的

287
00:10:42,266 --> 00:10:44,546
那我们可以通过这些还有一个具体的IP

288
00:10:44,546 --> 00:10:49,546
来指定用户的连接买SQL的具体的连接权限

289
00:10:49,546 --> 00:10:52,346
能明白同学们,这是登录权限

290
00:10:52,346 --> 00:10:54,506
那么还有一部分的权限就是这一块

291
00:10:54,506 --> 00:10:55,466
这块指的是什么呢

292
00:10:55,466 --> 00:10:58,106
你这个用户可以对数据库进行什么样的操作

293
00:10:58,106 --> 00:11:00,226
那么这块可以给什么呢

294
00:11:00,226 --> 00:11:01,946
就是这个权限这儿,看这儿

295
00:11:01,946 --> 00:11:04,826
这可以给什么呢,这可以给这么多

296
00:11:04,826 --> 00:11:07,346
你看可以给all,all表示什么呢

297
00:11:07,346 --> 00:11:09,466
就比如这么写,grand all

298
00:11:09,466 --> 00:11:11,426
grand all,那就是指的是

299
00:11:11,426 --> 00:11:15,186
这个用户现在可以对满色狗服务器做所有的操作

300
00:11:15,186 --> 00:11:19,146
其实就拥有了跟root用户相同的权限了

301
00:11:19,146 --> 00:11:20,226
明白这意思吧

302
00:11:20,226 --> 00:11:21,546
也可以给定slack的

303
00:11:21,546 --> 00:11:22,546
slack表示什么呢

304
00:11:22,546 --> 00:11:25,906
这个用户只能拥有查询权限

305
00:11:25,906 --> 00:11:27,066
那对谁查询呢

306
00:11:27,066 --> 00:11:31,134
就取决于你homer on所给定的数据库以及表

307
00:11:31,802 --> 00:11:34,482
比如说你给了AA库下的BB表

308
00:11:34,482 --> 00:11:38,082
那现在这个用户只能对AA库的BB表拥有查询权限

309
00:11:38,082 --> 00:11:39,882
添加都不可以,添加就保存

310
00:11:39,882 --> 00:11:41,682
明白这些吧,同学们

311
00:11:41,682 --> 00:11:44,122
以此类推,insert,update,delete等等等等

312
00:11:44,122 --> 00:11:44,922
你可以去给

313
00:11:44,922 --> 00:11:47,122
那么当然一个用户也可以分配多个权限

314
00:11:47,122 --> 00:11:49,722
比如说我想让这个用户既拥有查询权限

315
00:11:49,722 --> 00:11:51,962
拥有insert权限,拥有update权限

316
00:11:51,962 --> 00:11:52,522
怎么办呢

317
00:11:52,522 --> 00:11:54,802
在这个grunt的权限后面

318
00:11:54,802 --> 00:11:56,842
权限用权限斗号分割

319
00:11:56,842 --> 00:11:59,242
比如说grunt select的斗号

320
00:11:59,242 --> 00:12:00,642
insert的斗号

321
00:12:00,642 --> 00:12:02,802
update斗号

322
00:12:02,802 --> 00:12:04,122
delete斗号

323
00:12:04,122 --> 00:12:05,282
create没有了

324
00:12:05,282 --> 00:12:05,882
那就不给了

325
00:12:05,882 --> 00:12:08,002
然后再up哪个库哪个表

326
00:12:08,002 --> 00:12:10,202
然后比如说现在我想让这个用户

327
00:12:10,202 --> 00:12:14,002
我想让这个用户拥有select和insert

328
00:12:14,002 --> 00:12:17,362
然后对所有的数据库里的所有的表怎么办呢

329
00:12:17,362 --> 00:12:18,762
把数据库换成星

330
00:12:18,762 --> 00:12:21,242
然后点还是要有的,星

331
00:12:21,242 --> 00:12:22,602
表示什么意思呢

332
00:12:22,602 --> 00:12:26,082
表示的是所有的数据库里的所有的表

333
00:12:26,082 --> 00:12:29,322
然后我们也可以用具体的数据库

334
00:12:29,322 --> 00:12:30,842
点星表示什么呢

335
00:12:30,842 --> 00:12:32,602
这个数据库下的所有的表

336
00:12:32,602 --> 00:12:34,922
也可以星点表

337
00:12:34,922 --> 00:12:37,322
就是所有数据库里的这个表

338
00:12:37,322 --> 00:12:37,962
明白这意思吧

339
00:12:37,962 --> 00:12:40,122
就像数据库跟表中间有个点的

340
00:12:40,122 --> 00:12:42,562
这个点的左侧表示的是对数据库

341
00:12:42,562 --> 00:12:44,602
点的右侧表示的是表

342
00:12:44,602 --> 00:12:47,562
然后我们除了可以用具体的数据库

343
00:12:47,562 --> 00:12:49,682
数据库库名和表名以外

344
00:12:49,682 --> 00:12:53,662
还可以用星点星来表示所有的数据库跟所有的表

345
00:12:54,586 --> 00:12:56,586
能明白这意思吧?OK

346
00:12:56,586 --> 00:13:01,586
那么这么多的权限,我就不给大家一一介绍了,我们自己看一下就行了

347
00:13:01,586 --> 00:13:05,586
比如说我们现在要去做一个权限的分配

348
00:13:05,586 --> 00:13:07,586
然后权限的分配是这样的,我们看

349
00:13:07,586 --> 00:13:11,586
grant all privileges,all privileges,这什么意思?

350
00:13:11,586 --> 00:13:16,414
就是分配它所有的权限,all privileges指的是all

351
00:13:16,414 --> 00:13:18,106
< No Speech >

352
00:13:18,106 --> 00:13:20,106
all privileges指的就是all

353
00:13:20,106 --> 00:13:21,106
这个all啊

354
00:13:21,106 --> 00:13:23,426
所以说privilege不是权限的意思吗

355
00:13:23,426 --> 00:13:25,186
啊授予所有的权限

356
00:13:25,186 --> 00:13:26,746
all哪个库呢

357
00:13:26,746 --> 00:13:28,146
所有的库哪个表呢

358
00:13:28,146 --> 00:13:28,746
所有的表

359
00:13:28,746 --> 00:13:31,026
也就是说允许这个用户对所有的库

360
00:13:31,026 --> 00:13:32,826
所有的表进行所有的操作

361
00:13:32,866 --> 00:13:33,906
然后哪个用户呢

362
00:13:33,906 --> 00:13:35,266
to用户名

363
00:13:35,306 --> 00:13:37,386
然后at允许这个用户

364
00:13:38,226 --> 00:13:39,066
如何链接呢

365
00:13:39,066 --> 00:13:40,826
localhost只能本机链接

366
00:13:40,866 --> 00:13:42,826
然后这个用户的密码是什么呢

367
00:13:42,826 --> 00:13:44,946
identified by password

368
00:13:44,946 --> 00:13:44,958
identified by password

369
00:13:45,882 --> 00:13:48,882
看到了吗同学们 这是他的一个授权语句

370
00:13:48,882 --> 00:13:50,282
好 我们来看实例

371
00:13:50,282 --> 00:13:55,782
为优夏华线商人堂用户分配只能查询北京商人堂库的安普赖易表

372
00:13:55,782 --> 00:13:59,038
我们这个表是叫安普赖易 我们看一下啊

373
00:13:59,962 --> 00:14:02,962
叫EMP,我们改一下表名,EMP

374
00:14:02,962 --> 00:14:08,410
< No Speech >

375
00:14:08,410 --> 00:14:11,130
查询北京商业囊库当中EMP表

376
00:14:11,130 --> 00:14:12,970
并且只能在本机登录权限

377
00:14:12,970 --> 00:14:14,610
那么对于这样的一个授权语句

378
00:14:14,610 --> 00:14:15,610
我们该怎么去做呢

379
00:14:15,610 --> 00:14:16,250
我们看一下

380
00:14:16,250 --> 00:14:18,750
!

381
00:14:19,450 --> 00:14:20,850
grant 对吧

382
00:14:20,890 --> 00:14:22,090
然后什么

383
00:14:22,090 --> 00:14:26,610
后面是不是跟着能对允许它进行什么样的权限操作

384
00:14:26,610 --> 00:14:26,810
是吧

385
00:14:26,810 --> 00:14:28,130
比如说允许它slack它

386
00:14:28,130 --> 00:14:29,650
那就是slack的权限

387
00:14:29,810 --> 00:14:30,970
然后on

388
00:14:31,250 --> 00:14:32,490
对哪个库呢

389
00:14:32,490 --> 00:14:33,970
对北京商业堂这个库

390
00:14:34,010 --> 00:14:35,690
这个库下的哪个表呢

391
00:14:35,930 --> 00:14:37,530
.emp这个表

392
00:14:37,570 --> 00:14:38,050
对吧

393
00:14:38,050 --> 00:14:41,450
然后哪个用户允许它去进行这样的操作呢

394
00:14:41,450 --> 00:14:41,970
to

395
00:14:42,650 --> 00:14:43,690
这要加代研号了

396
00:14:43,850 --> 00:14:45,210
u下滑械商业堂

397
00:14:45,250 --> 00:14:46,690
这个用户我们是不是刚刚创建过

398
00:14:46,690 --> 00:14:47,210
对不对

399
00:14:47,210 --> 00:14:48,930
然后

400
00:14:49,818 --> 00:14:51,698
接着再给 localhost

401
00:14:51,698 --> 00:14:52,978
允许这个用户

402
00:14:52,978 --> 00:14:55,498
现在你看这个用户是不是允许在任意的

403
00:14:55,498 --> 00:14:59,098
这个主机下链接买这个服务端对吧

404
00:14:59,098 --> 00:15:01,898
那比如现在我让他改成 localhost

405
00:15:01,898 --> 00:15:03,018
可以吧

406
00:15:03,018 --> 00:15:04,298
然后呢密码是什么呢

407
00:15:04,298 --> 00:15:07,818
identify

408
00:15:07,818 --> 00:15:10,046
然后呢上学堂

409
00:15:10,046 --> 00:15:11,098
< No Speech >

410
00:15:11,098 --> 00:15:12,378
看到了吗同学们

411
00:15:12,378 --> 00:15:13,498
那有人说老师

412
00:15:13,498 --> 00:15:15,378
我感觉这个语句当中

413
00:15:15,378 --> 00:15:16,658
它既可以分配悬线

414
00:15:16,658 --> 00:15:18,258
也可以创建用户呢

415
00:15:18,258 --> 00:15:20,178
能不能用这个语句直接创建用户

416
00:15:20,178 --> 00:15:21,138
并且分配悬线呢

417
00:15:21,138 --> 00:15:22,618
答案是也可以的

418
00:15:22,618 --> 00:15:23,858
一会我们可以试一下

419
00:15:23,858 --> 00:15:25,058
我们先来搞定它

420
00:15:25,058 --> 00:15:26,258
运行

421
00:15:26,258 --> 00:15:27,658
看到了吧

422
00:15:27,658 --> 00:15:28,018
好

423
00:15:28,018 --> 00:15:29,218
然后现在我们用

424
00:15:29,218 --> 00:15:31,058
U下滑线上一堂这个用户

425
00:15:31,058 --> 00:15:32,098
去链接Mysql

426
00:15:32,098 --> 00:15:33,298
我们先用什么呢

427
00:15:33,298 --> 00:15:34,698
我们先用这个客户端去连接

428
00:15:34,698 --> 00:15:35,978
就是它自带的这个客户端

429
00:15:35,978 --> 00:15:36,778
cmd

430
00:15:36,778 --> 00:15:37,118
里面的这个客户端

431
00:15:37,118 --> 00:15:38,170
< No Speech >

432
00:15:38,170 --> 00:15:39,970
好,我们打开这个黑窗口啊

433
00:15:39,970 --> 00:15:41,854
还记得这个东西怎么去用吧

434
00:15:41,854 --> 00:15:43,226
< No Speech >

435
00:15:43,226 --> 00:15:44,226
我们来练一下啊

436
00:15:44,226 --> 00:15:46,226
My Circle

437
00:15:47,098 --> 00:15:52,698
然后-u我们叫u下滑械上学堂

438
00:15:52,738 --> 00:15:56,298
然后-p推车输入密码上学堂

439
00:15:56,938 --> 00:15:57,938
登录进来了吧

440
00:15:57,938 --> 00:16:00,938
然后我们u是北京上学堂

441
00:16:01,298 --> 00:16:02,938
切换到北京上学堂了是吧

442
00:16:02,938 --> 00:16:04,178
然后他能查询谁呢

443
00:16:04,218 --> 00:16:05,858
我们分别的权限给他的

444
00:16:05,858 --> 00:16:06,898
是不是只能去查

445
00:16:06,898 --> 00:16:08,618
这个unply emp这个表

446
00:16:08,618 --> 00:16:09,138
对吧

447
00:16:09,138 --> 00:16:09,898
那我去查

448
00:16:09,938 --> 00:16:12,458
select sing from emp

449
00:16:12,458 --> 00:16:13,618
< No Speech >

450
00:16:13,618 --> 00:16:14,178
没问题吧

451
00:16:14,178 --> 00:16:15,298
但是这个表里是空的

452
00:16:15,298 --> 00:16:16,578
我们看一下emp表里

453
00:16:16,578 --> 00:16:17,698
好像是没有数据的

454
00:16:18,698 --> 00:16:18,978
是吧

455
00:16:18,978 --> 00:16:19,898
这个表里没有数据

456
00:16:20,738 --> 00:16:24,338
那比如现在我再让他去查一个emp3

457
00:16:24,338 --> 00:16:25,778
我们有emp3表

458
00:16:25,778 --> 00:16:27,018
< No Speech >

459
00:16:27,018 --> 00:16:30,498
select sing from emp3

460
00:16:31,178 --> 00:16:31,618
看到了吗

461
00:16:31,618 --> 00:16:32,258
同学们

462
00:16:32,458 --> 00:16:33,578
马上报错了

463
00:16:33,818 --> 00:16:34,858
命令失败是吧

464
00:16:34,858 --> 00:16:35,498
为什么失败

465
00:16:35,618 --> 00:16:38,258
因为你现在没有这个权限

466
00:16:38,418 --> 00:16:41,178
你没有权限去查emp3这个表

467
00:16:41,898 --> 00:16:44,738
我在对你u下滑械上学堂用户

468
00:16:44,738 --> 00:16:47,058
去复制的时候去授权的时候

469
00:16:47,218 --> 00:16:49,538
只允许你去查emp这个表

470
00:16:50,178 --> 00:16:51,258
明白这些吧同学们

471
00:16:51,418 --> 00:16:53,098
我们通过这个案例就可以体现出

472
00:16:53,098 --> 00:16:54,658
他这个权授权的一个特点了

473
00:16:54,658 --> 00:16:55,018
是吧

474
00:16:55,018 --> 00:16:55,738
好

475
00:16:55,738 --> 00:16:56,818
那么刚才我说了

476
00:16:56,858 --> 00:16:58,898
其实我们也可以直接通过授权引据

477
00:16:58,898 --> 00:17:00,058
去创建一个用户

478
00:17:00,458 --> 00:17:01,218
创建一个新用户

479
00:17:01,218 --> 00:17:02,818
并且分配权限以及登录权限

480
00:17:03,058 --> 00:17:04,618
我们通过这个例子

481
00:17:04,618 --> 00:17:06,098
再来我们通过这种方式

482
00:17:06,098 --> 00:17:06,578
再来一个

483
00:17:06,578 --> 00:17:08,218
就再完成一个例子什么呢

484
00:17:08,578 --> 00:17:10,018
我们去创建一个用户

485
00:17:10,018 --> 00:17:11,898
这个用户我们叫上学堂

486
00:17:12,018 --> 00:17:14,218
然后允许他拥有所有的权限

487
00:17:14,218 --> 00:17:15,818
以及用所有的权限来操作

488
00:17:15,818 --> 00:17:17,258
所有的库以及所有的表

489
00:17:17,538 --> 00:17:18,258
可以吧

490
00:17:18,258 --> 00:17:19,938
我们把这个语句拷贝一下

491
00:17:19,938 --> 00:17:22,558
拿过来做一个修改

492
00:17:23,482 --> 00:17:25,282
插旋把它打开

493
00:17:25,282 --> 00:17:26,554
< No Speech >

494
00:17:26,554 --> 00:17:27,514
咱到里面

495
00:17:28,034 --> 00:17:29,634
我们看首先

496
00:17:30,034 --> 00:17:32,314
允许他对数据库进行所有的操作

497
00:17:32,314 --> 00:17:33,714
那就是all privileges

498
00:17:33,914 --> 00:17:34,354
对吧

499
00:17:34,354 --> 00:17:35,074
然后on

500
00:17:35,514 --> 00:17:37,234
这是进行所有的操作

501
00:17:37,234 --> 00:17:38,914
然后on对哪个库哪个表呢

502
00:17:38,954 --> 00:17:40,314
星点星表是什么

503
00:17:40,474 --> 00:17:42,194
所有的库所有的表

504
00:17:42,234 --> 00:17:42,594
对吧

505
00:17:42,594 --> 00:17:44,034
然后to哪个用户呢

506
00:17:44,034 --> 00:17:45,234
这个用户叫上学堂

507
00:17:45,274 --> 00:17:46,794
现在我是没有上学堂这个用户了

508
00:17:46,794 --> 00:17:47,234
对吧

509
00:17:47,394 --> 00:17:47,794
然后呢

510
00:17:47,794 --> 00:17:48,474
权限

511
00:17:48,874 --> 00:17:50,114
这个用户上学堂这个用户

512
00:17:50,114 --> 00:17:51,674
我不仅仅让他本机链接

513
00:17:51,674 --> 00:17:53,914
我允许他在所有的客户端

514
00:17:54,034 --> 00:17:55,474
所有IP的客户端

515
00:17:55,474 --> 00:17:57,714
当中来链接我的mysql的服务端

516
00:17:57,754 --> 00:17:59,074
那肯定要改成百分号了

517
00:17:59,434 --> 00:17:59,674
是吧

518
00:17:59,674 --> 00:18:00,194
同学们

519
00:18:00,234 --> 00:18:02,034
然后identified by密码

520
00:18:02,034 --> 00:18:03,194
我也叫上学堂

521
00:18:03,714 --> 00:18:04,154
可以吧

522
00:18:04,154 --> 00:18:05,554
然后我们运行

523
00:18:06,114 --> 00:18:07,034
是不是成功了

524
00:18:07,074 --> 00:18:08,314
然后我们再去查

525
00:18:08,754 --> 00:18:09,674
select

526
00:18:09,914 --> 00:18:10,594
user

527
00:18:10,594 --> 00:18:11,874
然后还有一个host

528
00:18:11,874 --> 00:18:15,394
from mysql.user

529
00:18:15,794 --> 00:18:16,114
对吧

530
00:18:16,114 --> 00:18:16,554
同学们

531
00:18:16,554 --> 00:18:17,634
我们去查这个

532
00:18:17,994 --> 00:18:18,314
库

533
00:18:18,754 --> 00:18:19,234
看

534
00:18:19,674 --> 00:18:21,274
这里是不是多了一个

535
00:18:21,554 --> 00:18:22,554
上学堂这个库

536
00:18:22,554 --> 00:18:23,434
上学堂这个用户

537
00:18:23,434 --> 00:18:24,634
然后host是百分号

538
00:18:24,634 --> 00:18:25,154
对吧

539
00:18:25,154 --> 00:18:27,434
那么现在我们再去

540
00:18:27,434 --> 00:18:28,634
< No Speech >

541
00:18:28,634 --> 00:18:29,634
退出登陆啊

542
00:18:29,634 --> 00:18:31,578
< No Speech >

543
00:18:31,578 --> 00:18:33,778
我们用这个上学堂用户去登录

544
00:18:33,778 --> 00:18:34,978
mysql-u

545
00:18:34,978 --> 00:18:36,978
然后上学堂-p

546
00:18:36,978 --> 00:18:38,522
< No Speech >

547
00:18:38,522 --> 00:18:40,522
我们叫上学堂对吧

548
00:18:40,522 --> 00:18:41,522
OK

549
00:18:41,522 --> 00:18:42,522
然后你看啊

550
00:18:42,522 --> 00:18:44,522
我Use北京上学堂

551
00:18:44,522 --> 00:18:51,070
然后Select a thing from EMP

552
00:18:51,070 --> 00:18:52,154
< No Speech >

553
00:18:52,154 --> 00:18:52,914
没有数据

554
00:18:52,914 --> 00:18:54,194
但是可以查没有报错

555
00:18:54,194 --> 00:18:54,474
对吧

556
00:18:54,474 --> 00:18:56,350
我们再查slack他

557
00:18:56,858 --> 00:18:59,538
sync from emp2

558
00:18:59,538 --> 00:19:01,778
啊没有这个表啊,emp3

559
00:19:02,438 --> 00:19:05,338
也可以查,是吧,我们还有department的吧

560
00:19:05,438 --> 00:19:08,078
select sync from

561
00:19:08,438 --> 00:19:09,978
department

562
00:19:09,978 --> 00:19:12,510
你们是这个表

563
00:19:12,510 --> 00:19:14,074
< No Speech >

564
00:19:14,074 --> 00:19:15,554
看到了吗?同学们

565
00:19:15,554 --> 00:19:18,314
那么我们现在就已经实现了

566
00:19:18,314 --> 00:19:21,074
在授权时直接创建用户

567
00:19:21,074 --> 00:19:24,874
以及指定用户的登录权限

568
00:19:24,874 --> 00:19:26,714
明白了吗?同学们

569
00:19:26,714 --> 00:19:29,274
所以这一点有一个重点的信息同学们一定要注意

570
00:19:29,274 --> 00:19:30,114
什么呢?

571
00:19:30,114 --> 00:19:33,554
如果现在你去链接远程的MySQL

572
00:19:33,554 --> 00:19:36,274
发现一连接就报链接失败

573
00:19:36,274 --> 00:19:38,034
或者是这个用户无法链接

574
00:19:38,034 --> 00:19:40,834
你一定要先考虑是不是这个用户没有具备

575
00:19:40,834 --> 00:19:45,274
在其他的IP地址当中去链接MySQL的权限

576
00:19:45,274 --> 00:19:46,914
特别是用root用户链接的时候

577
00:19:46,914 --> 00:19:48,314
所以我们这时候怎么办呢?

578
00:19:48,314 --> 00:19:51,034
先去到这个服务器的主机当中

579
00:19:51,034 --> 00:19:53,714
服务器MySQL服务端所在的主机当中

580
00:19:53,714 --> 00:19:56,834
去修改root用户的链接权限

581
00:19:56,834 --> 00:19:59,114
怎么办呢?就是ground all,provider on,

582
00:19:59,114 --> 00:20:01,634
星点星2,然后这改成root

583
00:20:01,634 --> 00:20:06,074
然后at,百分号,然后identifiedby,密码

584
00:20:06,074 --> 00:20:06,994
然后一执行

585
00:20:06,994 --> 00:20:09,354
然后接下来你就可以用root用户

586
00:20:09,354 --> 00:20:13,114
在任何的IP地址的设备上去链接你的MySQL了

587
00:20:13,114 --> 00:20:15,034
能记住吧同学们,这一点一定要注意

588
00:20:15,034 --> 00:20:19,194
OK,然后还有就是权限

589
00:20:19,194 --> 00:20:21,154
其实我们给定完之后一定要刷新

590
00:20:21,154 --> 00:20:22,794
虽然刚才我这个没刷新也能用

591
00:20:22,794 --> 00:20:24,354
但是这里一定要刷新的

592
00:20:24,354 --> 00:20:27,074
复制一下,粘到这里

593
00:20:27,074 --> 00:20:30,154
刷新权限,刷新权限之后才会生效

594
00:20:30,154 --> 00:20:34,354
刷新权限的命令是flashProviders

595
00:20:34,354 --> 00:20:36,914
这是这个刷新权限

596
00:20:36,914 --> 00:20:39,634
那么大家一定要注意创建完用户以后

597
00:20:39,634 --> 00:20:41,954
分分分权限以后一定要先刷新权限的

598
00:20:41,954 --> 00:20:43,354
要养成这个习惯

599
00:20:43,354 --> 00:20:44,834
好,那我们再来看一下

600
00:20:44,834 --> 00:20:46,914
那如果现在我想删除用户怎么办呢?

601
00:20:46,914 --> 00:20:48,874
这个时候我们就要用job语句了

602
00:20:48,874 --> 00:20:50,514
是DDL的一个语句

603
00:20:50,514 --> 00:20:55,794
job user,然后给定用户名at以及它的链接权限

604
00:20:55,794 --> 00:21:00,034
比如说现在我要把这个上学堂用户删除掉

605
00:21:00,034 --> 00:21:01,234
上学堂用户删除掉

606
00:21:01,234 --> 00:21:02,914
那它是什么呢?

607
00:21:02,914 --> 00:21:05,234
job,然后user

608
00:21:05,234 --> 00:21:07,754
然后上学堂

609
00:21:07,754 --> 00:21:09,342
然后at

610
00:21:09,342 --> 00:21:13,338
< No Speech >

611
00:21:13,338 --> 00:21:15,338
注意啊这也要给上单元号

612
00:21:16,122 --> 00:21:18,122
然后这给什么呢?百分号

613
00:21:18,122 --> 00:21:19,226
< No Speech >

614
00:21:19,226 --> 00:21:20,746
表示要删除上渊堂

615
00:21:20,746 --> 00:21:24,266
然后它是拥有链接所有数据库的

616
00:21:24,266 --> 00:21:25,706
在任何设备当中链接

617
00:21:25,706 --> 00:21:29,146
买色口服务端的链接权限的上渊堂用户

618
00:21:29,146 --> 00:21:30,266
选中运行

619
00:21:30,266 --> 00:21:31,146
没有了

620
00:21:31,146 --> 00:21:32,146
看到了吗

621
00:21:32,146 --> 00:21:32,986
明白这些是吧

622
00:21:32,986 --> 00:21:35,826
现在我们再要去用上渊堂登录

623
00:21:35,826 --> 00:21:36,586
已经无法登录了

624
00:21:36,586 --> 00:21:37,386
我们看一下

625
00:21:37,386 --> 00:21:39,066
比如说我们用NaviCAD去登录

626
00:21:39,066 --> 00:21:41,226
这个时候我们用其他用户在登录时

627
00:21:41,226 --> 00:21:42,626
只能在新建链接了

628
00:21:42,626 --> 00:21:44,266
在NaviCAD当中一个链接

629
00:21:44,266 --> 00:21:46,826
只是用一个用户去登录买色口服务端

630
00:21:46,826 --> 00:21:47,226
是吧

631
00:21:47,226 --> 00:21:48,626
比如说我再创建一个链接

632
00:21:48,626 --> 00:21:50,146
链接名叫上学堂

633
00:21:50,146 --> 00:21:50,866
然后呢

634
00:21:51,546 --> 00:21:52,586
链接的是这儿

635
00:21:52,586 --> 00:21:53,950
然后呢

636
00:21:54,490 --> 00:21:57,170
上学堂,密码也是上学堂,测试

637
00:21:57,170 --> 00:21:58,170
你看

638
00:21:58,290 --> 00:22:00,830
出错了是吧,说什么呢,访问失败

639
00:22:00,830 --> 00:22:03,090
因为你这个用户已经不存在了嘛,对不对

640
00:22:03,090 --> 00:22:06,370
那么我们刚才看啊,就这种错误还有一种可能会出现

641
00:22:06,450 --> 00:22:08,690
A size denied for user上学堂loghost

642
00:22:08,690 --> 00:22:10,210
using password yes

643
00:22:10,410 --> 00:22:13,110
这个异常,这种错误信息还有一种情况出现

644
00:22:13,250 --> 00:22:16,090
就是除了你用户不在以外,还有一种是你用户在

645
00:22:16,090 --> 00:22:18,450
但是一连接就出现这个问题,说明什么呢

646
00:22:18,450 --> 00:22:21,250
你的这个用户,他的链接权限

647
00:22:21,250 --> 00:22:23,570
不是百分号,而是loghost

648
00:22:23,570 --> 00:22:25,490
特别是在远程连接时

649
00:22:25,610 --> 00:22:27,210
如果你用root用户一登录

650
00:22:27,210 --> 00:22:29,770
比如说用root用户肯定是在的呀,对吧

651
00:22:29,770 --> 00:22:31,610
用root一登录还出现这个问题

652
00:22:31,610 --> 00:22:34,570
那你就要想到,root用户并不是一个

653
00:22:34,570 --> 00:22:38,610
拥有在任何的IP地址当中去连接mysql的这样的权限

654
00:22:38,610 --> 00:22:39,250
是没有的

655
00:22:39,250 --> 00:22:40,930
这时候你需要登录mysql主机

656
00:22:40,930 --> 00:22:44,290
然后对root用户重新去分配他的链接权限

657
00:22:44,290 --> 00:22:46,970
把loghost改成百分号就可以了

658
00:22:47,570 --> 00:22:48,970
明白这些吧同学们

659
00:22:49,170 --> 00:22:52,130
当然,你在改他的登录权限的,链接权限的时候

660
00:22:52,130 --> 00:22:53,850
前面这一块也要继续给定的

661
00:22:53,850 --> 00:22:56,126
啊! grinding all privileges

662
00:22:56,858 --> 00:23:02,938
星点星,to,root,at,百分号,identify,密码一回车

663
00:23:02,938 --> 00:23:04,446
能记住吧?

664
00:23:05,210 --> 00:23:08,610
好,我们再来看一下JJ科的实时效果反馈

665
00:23:08,610 --> 00:23:24,158
创建用户语句,Create什么username什么password,A,user'sidentifiedby,B,useridentified,C,useridentifiedby,D,useridentifiedby

666
00:23:24,158 --> 00:23:26,906
< No Speech >

667
00:23:26,906 --> 00:23:31,466
是不是create user然后用户名然后identified by

668
00:23:31,466 --> 00:23:33,146
对吧 是单数的user是吧

669
00:23:33,146 --> 00:23:35,786
那就是c嘛 user然后identified by

670
00:23:35,786 --> 00:23:37,706
所以第一个题的答案是c

671
00:23:37,706 --> 00:23:42,386
第二题 删除用户的语句什么username at localhost

672
00:23:42,386 --> 00:23:44,266
或者是你的链接权限

673
00:23:44,906 --> 00:23:45,466
对吧

674
00:23:45,706 --> 00:23:47,386
a. delete user

675
00:23:47,386 --> 00:23:48,546
b. delete user

676
00:23:48,546 --> 00:23:50,386
而是c. job user

677
00:23:50,386 --> 00:23:51,786
而是d. job user

678
00:23:51,826 --> 00:23:54,386
那么我们删除用户的语句是什么

679
00:23:54,386 --> 00:23:55,546
是job user

680
00:23:55,546 --> 00:23:57,346
所以这个题选d对吧

681
00:23:57,346 --> 00:23:58,490
< No Speech >

682
00:23:58,490 --> 00:24:00,650
第一题C,第二题选D

683
00:24:00,650 --> 00:24:05,090
好同学们,那么以上我们就讲解了如何在MySQL当中

684
00:24:05,090 --> 00:24:10,450
去通过创建用户以及对用户做权限的授权、分配权限

685
00:24:10,450 --> 00:24:11,610
以及删除用户

686
00:24:11,610 --> 00:24:15,090
我们去了解了一下在MySQL当中的用户管理

687
00:24:15,090 --> 00:24:17,758
好同学们,那我们这一课就到这。

