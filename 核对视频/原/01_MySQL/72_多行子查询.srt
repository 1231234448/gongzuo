1
00:00:00,000 --> 00:00:01,082
< No Speech >

2
00:00:01,082 --> 00:00:05,562
上节课我们讲解了指察群当中的单行指察群

3
00:00:05,562 --> 00:00:10,842
那么这节课我们再来讲解一下指察群当中的多行指察群

4
00:00:10,842 --> 00:00:13,214
那么什么是多行指察群呢?

5
00:00:13,882 --> 00:00:20,062
当我们的止查询或者叫内查询,在执行查询后它返回的结果

6
00:00:20,062 --> 00:00:21,722
< No Speech >

7
00:00:21,722 --> 00:00:25,242
那么这就是一个典型的多行指查询

8
00:00:25,242 --> 00:00:30,682
那么主查询在对多行指查询做条件判断时

9
00:00:30,682 --> 00:00:35,802
那么它的比较符就不能使用单行指查询的比较符了

10
00:00:35,802 --> 00:00:41,082
什么意思呢?你不能使用等于,不能使用大于,不能使用小于

11
00:00:41,082 --> 00:00:44,362
不能使用大于等于,不能使用小于等于

12
00:00:44,362 --> 00:00:48,842
也不能直接使用不等于来作为比较符的运算了

13
00:00:48,842 --> 00:00:52,282
那么我们应该使用多行比较符

14
00:00:52,282 --> 00:00:58,362
那么多行比较符有几个呢?有三个,分别是int, any, all

15
00:00:58,362 --> 00:01:03,562
那么int指的是什么呢?这个int和我们之前所讲过的int是一个含义的

16
00:01:03,562 --> 00:01:08,042
也就是说等于int列表当中的任何一个成员都可以

17
00:01:08,042 --> 00:01:14,202
注意是等于,那么int指的不就是等于它也可以,或者是等于它也可以

18
00:01:14,202 --> 00:01:19,802
或者是等于它可以,只要是int列表当中的任何一个等于任何一个都可以

19
00:01:19,802 --> 00:01:24,414
是一个或者的关系,而且是用相等来判断的,这是int的作用

20
00:01:25,082 --> 00:01:33,282
那么什么是安逆呢?安逆表示的是,自查询返回的每一个值都可以,任意一个,每一个都可以

21
00:01:33,282 --> 00:01:41,202
那么至于每一个对它做什么判断呢?对每一个的什么比较呢?这里仍然得用到单行运算符

22
00:01:41,202 --> 00:01:46,162
我们说了,单行运算符不能直接用在多行自查询当中

23
00:01:46,162 --> 00:01:52,082
但是如果你在使用单行比较符时,后面跟的安逆或者是all是可以的

24
00:01:52,082 --> 00:01:59,882
比如说我大于安逆,或者是我小于安逆,这是可以的

25
00:01:59,882 --> 00:02:06,282
那么安逆指的是每一个值,任何一个都可以,小于任何一个,大于任何一个都可以

26
00:02:06,282 --> 00:02:13,282
明白这意思吧?那什么是all呢?all是比较自查询返回的全部值,所有的,all指的就是所有的

27
00:02:13,282 --> 00:02:19,562
那么同样all的前面也得配合着单行运算符,我是大于所有的还是小于所有的

28
00:02:19,562 --> 00:02:19,646
川普新任广告够不够呢?

29
00:02:20,186 --> 00:02:24,746
明白这意思吧?那么安妮和奥同学们可能听着还是比较模糊的

30
00:02:24,746 --> 00:02:28,506
那么下面我们会重点去讲解安妮和奥的一个区别

31
00:02:28,506 --> 00:02:31,466
好,那我们先来看多行指察群

32
00:02:31,466 --> 00:02:34,746
指察群返回多行被称为多行指察群

33
00:02:34,746 --> 00:02:38,826
对于多行指察群要使用多行运算符而不是大行运算符

34
00:02:38,826 --> 00:02:42,426
多行运算符有几个呢?一共就有三个,印、安妮和奥

35
00:02:42,426 --> 00:02:46,986
那么对于印我就不再说了,因为我们之前已经讲过了

36
00:02:46,986 --> 00:02:49,626
这里我们重点来说一下安妮和奥

37
00:02:49,626 --> 00:02:50,906
好,我们来看

38
00:02:50,906 --> 00:02:51,962
< No Speech >

39
00:02:51,962 --> 00:02:58,362
使用安妮运算服,在多行只查询当中使用安妮运算服,我们看这个例子

40
00:02:58,362 --> 00:03:01,962
在这个例子当中,只查询,去查询什么了呢?

41
00:03:01,962 --> 00:03:09,662
去查询员工表当中,工作编号,就是Job ID,是IT PROG的。

42
00:03:09,662 --> 00:03:10,906
< No Speech >

43
00:03:10,906 --> 00:03:13,226
他的薪水是什么

44
00:03:13,226 --> 00:03:13,626
对吧

45
00:03:13,626 --> 00:03:17,186
那么在工作编号是他的工作编号当中

46
00:03:17,186 --> 00:03:18,586
薪水有三个

47
00:03:18,586 --> 00:03:22,106
分别是4200 6000和9000

48
00:03:22,106 --> 00:03:23,186
那么很显然

49
00:03:23,186 --> 00:03:26,026
这个子查询或者我们叫内查询

50
00:03:26,026 --> 00:03:27,946
返回的结果集不是一行

51
00:03:27,946 --> 00:03:28,746
而是多行

52
00:03:28,746 --> 00:03:30,706
那这就是一个多行子查询了

53
00:03:30,706 --> 00:03:32,866
那么在主查询当中

54
00:03:32,866 --> 00:03:36,986
他的条件判断里还能直接使用单行比较服吗

55
00:03:37,426 --> 00:03:39,586
直接用大鱼直接用小鱼可以吗

56
00:03:39,586 --> 00:03:40,386
不可以了

57
00:03:40,386 --> 00:03:41,906
比如说这个例子

58
00:03:41,906 --> 00:03:43,946
我直接用小鱼是不允许的

59
00:03:43,946 --> 00:03:47,866
但是我小鱼任意一个小鱼安逸是可以的

60
00:03:47,866 --> 00:03:49,082
< No Speech >

61
00:03:49,082 --> 00:03:52,602
明白这意思吧同学们 那么小于安妮指的是什么呢

62
00:03:52,602 --> 00:03:56,282
指的是这三个当中我小于任意一个都可以

63
00:03:56,282 --> 00:04:00,682
我小于4200也可以 小于6000也可以 小于9000也可以

64
00:04:00,682 --> 00:04:05,802
那同学们想这样的一个问题 小于9000也可以

65
00:04:05,802 --> 00:04:10,270
那小于9000是不是就等于小于6000和小于4200了

66
00:04:11,258 --> 00:04:18,538
所以小于9000的含义是不是等于小于9000以下的所有的值都可以

67
00:04:18,538 --> 00:04:24,578
所以小于安妮指的是什么呢?小于安妮的意思就是指的是小于最大值

68
00:04:24,578 --> 00:04:28,978
我8000可不可以?可以的,7000可不可以?可以的,为什么?

69
00:04:28,978 --> 00:04:32,898
因为8000跟7000都是小于9000呢,是没问题的

70
00:04:32,898 --> 00:04:36,418
所以安妮运算符的意思,同学们一定要理解

71
00:04:36,418 --> 00:04:45,378
安妮运算符的意思是任意一个,如果是小于安妮指的是小于最大值,是这个最大值以后的

72
00:04:45,378 --> 00:04:47,226
< No Speech >

73
00:04:47,226 --> 00:04:55,426
最大值以前的最大值以前的注意他的是他的一个这个内颜最大值以前的都可以

74
00:04:55,426 --> 00:05:00,990
9000以前的以前的是多少80007000600050004000300020001000都可以

75
00:05:01,562 --> 00:05:05,642
明白这意思吧同学们 那么大于安利的意思是什么呢

76
00:05:05,642 --> 00:05:13,802
你看啊 在这个结果之当中 我大于9000的可以 大于6000的可以 大于4200的也可以

77
00:05:13,802 --> 00:05:19,082
那么大于4200的都可以了 你说大于6000的可不可以 当然可以啊

78
00:05:19,962 --> 00:05:23,722
是吧 我大于5000可不可以 5000可不可以

79
00:05:23,722 --> 00:05:26,842
这个salary是5000大于安利 满不满足这个条件

80
00:05:26,842 --> 00:05:30,202
当然满足了 因为你大于4200了 是吧

81
00:05:31,066 --> 00:05:33,506
那7000可不可以 当然也可以

82
00:05:33,506 --> 00:05:40,546
所以大于任意一个其实指的就是只要你大于最小的那个值都可以

83
00:05:40,546 --> 00:05:43,106
只要你大于最小的那个都可以

84
00:05:44,026 --> 00:05:49,866
是不是又取了最小值的外延4200以后的都可以

85
00:05:49,866 --> 00:05:54,866
而小于是小于最大值的内延小于最大值以前的都可以

86
00:05:54,866 --> 00:05:58,706
而安定的是大于最小值以后的都可以

87
00:05:58,706 --> 00:06:01,534
你看 相当于是这样的一个范围

88
00:06:02,234 --> 00:06:10,234
明白吧 同学们 我们看9000跟472是不是小于安利跟大于安利 是不是指的是这样的一个范围

89
00:06:10,234 --> 00:06:11,802
< No Speech >

90
00:06:11,802 --> 00:06:16,162
小于安利指的是小于9000的任何一个都可以

91
00:06:16,162 --> 00:06:19,082
大于安利是大于4200的任何一个都可以

92
00:06:19,082 --> 00:06:22,482
能明白这意思吧 这是安利的特点

93
00:06:22,482 --> 00:06:24,482
好 我们再来看使用all

94
00:06:24,482 --> 00:06:28,122
在多行指察群当中使用all运算符

95
00:06:28,122 --> 00:06:31,682
如果我们还是用这个案例来看 返回9000 6000跟4200

96
00:06:31,682 --> 00:06:35,962
如果现在主查群的salary用的是小于all 这表示什么意思

97
00:06:35,962 --> 00:06:39,722
all指的是所有的 安利是任意一个 all指的是所有的

98
00:06:39,722 --> 00:06:46,962
也就是说这个salary必须小于9000 必须小于6000 也必须得小于4200

99
00:06:46,962 --> 00:06:48,634
< No Speech >

100
00:06:48,634 --> 00:06:53,174
小于4200是不是就包含了

101
00:06:54,010 --> 00:06:55,770
4200小于都没问题

102
00:06:55,770 --> 00:06:57,570
那小于6000肯定也没问题啊

103
00:06:57,570 --> 00:06:59,162
< No Speech >

104
00:06:59,162 --> 00:07:06,662
所以小于傲意思就是指的小于最小值

105
00:07:07,418 --> 00:07:10,298
最小值以下的都可以

106
00:07:10,298 --> 00:07:12,538
3000 2000 1000都没问题

107
00:07:12,538 --> 00:07:13,818
这是小于傲

108
00:07:14,138 --> 00:07:15,178
明白这意思吧

109
00:07:15,178 --> 00:07:16,698
而大于傲的意思是什么呢

110
00:07:16,698 --> 00:07:17,898
是大于4200

111
00:07:18,058 --> 00:07:19,498
也必须大于6000

112
00:07:19,498 --> 00:07:20,538
也必须大于9000

113
00:07:20,538 --> 00:07:22,458
它是个必须的意思

114
00:07:22,458 --> 00:07:24,538
就每一个都得大于

115
00:07:24,538 --> 00:07:25,658
而安利是任何一个

116
00:07:25,658 --> 00:07:26,138
对不对

117
00:07:26,138 --> 00:07:27,978
那大于9000了

118
00:07:28,298 --> 00:07:29,578
是不是肯定也大于6000

119
00:07:29,578 --> 00:07:30,538
肯定也大于4200

120
00:07:30,538 --> 00:07:32,698
所以大于傲是不是指的是

121
00:07:32,698 --> 00:07:34,458
大于9000以后的都可以

122
00:07:34,458 --> 00:07:36,458
1万1万1 1万3都可以

123
00:07:36,458 --> 00:07:37,738
小于傲指的是

124
00:07:37,738 --> 00:07:39,898
比如说以4200为例

125
00:07:39,898 --> 00:07:40,778
小于傲指的是

126
00:07:40,778 --> 00:07:41,738
4100也可以

127
00:07:41,738 --> 00:07:42,378
4000也可以

128
00:07:42,378 --> 00:07:43,978
什么3900都可以

129
00:07:43,978 --> 00:07:46,538
所以你看它跟安利的区别是

130
00:07:46,538 --> 00:07:49,898
它们的括号的范围是不是相反的

131
00:07:49,898 --> 00:07:52,478
安利指的是最大值

132
00:07:52,986 --> 00:07:58,626
向内最小值 向往向最大 阿尼指的是最大值

133
00:07:58,626 --> 00:08:00,122
< No Speech >

134
00:08:00,122 --> 00:08:07,762
而最小小于安宁的是最小最小值向后 对吧 而二是最大值向后

135
00:08:07,762 --> 00:08:09,018
< No Speech >

136
00:08:09,018 --> 00:08:15,218
最小值向这个这个啊最这个大于二啊使的是最大值向后

137
00:08:15,338 --> 00:08:19,938
然后小于二呢是最小值向回就小于4200

138
00:08:19,938 --> 00:08:21,858
所以你看跟安逸是不是相反的呀

139
00:08:21,858 --> 00:08:23,358
所以你看啊

140
00:08:24,250 --> 00:08:29,250
小于安利的意思是小于最小值,大于安利的意思是大于最小值

141
00:08:29,250 --> 00:08:35,250
而小于傲的意思是小于最小值,大于傲的意思是大于最大值

142
00:08:35,250 --> 00:08:37,250
正好跟安利是相反的

143
00:08:37,250 --> 00:08:41,250
能体会吧同学们,自己琢磨一下,这个应该不是很费劲

144
00:08:41,250 --> 00:08:44,250
那我们再来看一下指察群当中的空值

145
00:08:44,250 --> 00:08:47,250
如果指察群当中有空值怎么办?

146
00:08:47,250 --> 00:08:48,478
我们来看一下这个案例

147
00:08:49,338 --> 00:08:55,018
子查询,查询ManagerId,那么ManagerId是有空的

148
00:08:55,018 --> 00:08:59,978
然后在这个主查询当中是使用NoteIn去做的一个条件判断

149
00:08:59,978 --> 00:09:05,378
那么这个时候,主查询是无法返回数据的,返回0条

150
00:09:05,378 --> 00:09:07,778
为什么?因为你的子查询当中有空了

151
00:09:07,778 --> 00:09:12,258
那为什么子查询当中有空,NoteIn就无法查到数据呢?

152
00:09:12,258 --> 00:09:13,858
我们来看一下

153
00:09:13,858 --> 00:09:19,538
内查询返回的值还有空值,并因此整个查询都无结果

154
00:09:19,538 --> 00:09:28,378
原因是单行比较幅当中的大余小余或不等于比较幅比较浪值都会返回空

155
00:09:28,378 --> 00:09:29,530
< No Speech >

156
00:09:29,530 --> 00:09:34,650
那我们note int是什么?note int就是不是这个范围内的

157
00:09:34,650 --> 00:09:37,450
不等于这些的,那不就是不等于all吗?

158
00:09:37,450 --> 00:09:41,694
有不等于出现了,这里还有空的,那都是空啊。

159
00:09:42,202 --> 00:09:47,522
能明白这意思吧?所以只要空值可能是指察询的结果的一部分

160
00:09:47,522 --> 00:09:52,722
就不能用notein,因为notein运算符相等于不等于所有

161
00:09:52,722 --> 00:09:56,402
notein就不在这些列表范围内的,不等于所有嘛

162
00:09:56,402 --> 00:10:02,602
不等号,对于空值的处理,运算也是空,所以主查询返回的是空

163
00:10:02,602 --> 00:10:07,722
明白吧?那如果不要notein,换成int可不可以?int是可以的

164
00:10:07,722 --> 00:10:11,562
int对空值的运算是不会影响的,明白这意思吧?

165
00:10:11,562 --> 00:10:17,442
注意,空值作为一个指察询的结果集的一部分,如果使用int操作符号不是一个问题

166
00:10:17,442 --> 00:10:24,882
int相当于等于任意一个,只有用大于小于或不等于去对空运算的时候才返回空

167
00:10:24,882 --> 00:10:27,882
明白这意思吧?所以这个是没有问题的

168
00:10:27,882 --> 00:10:37,002
OK,我们来看一个实例,这个实例要求查找各部门收入为部门最低的那些雇员

169
00:10:37,002 --> 00:10:39,134
显示他们的名字、薪水以及部门ID

170
00:10:39,134 --> 00:10:40,506
< No Speech >

171
00:10:40,506 --> 00:10:43,706
那这个怎么判断呢?怎么实现呢?大家想一下

172
00:10:43,706 --> 00:10:49,106
我是不是得先用指查询去查找部门ID最低的

173
00:10:49,506 --> 00:10:54,106
对吧,部门最低的薪水怎么办?我是不是得按部门分组

174
00:10:54,106 --> 00:10:59,706
然后用一个mean,mean一个聚合函数对salary求最小值

175
00:10:59,706 --> 00:11:02,506
是不是就可以拿到了?但是拿到你别忘了

176
00:11:02,506 --> 00:11:07,106
这个部门它是可以分位,它有多个部门出现的

177
00:11:07,106 --> 00:11:12,106
所以它返回的结果肯定不是一条

178
00:11:12,106 --> 00:11:16,906
我们先把这个事解决,查找各部门收入为部门最低的

179
00:11:16,906 --> 00:11:20,158
是不是这么写?

180
00:11:20,730 --> 00:11:25,470
Select

181
00:11:25,470 --> 00:11:27,514
< No Speech >

182
00:11:27,514 --> 00:11:29,114
Unplay 对吧 起个别名

183
00:11:29,114 --> 00:11:30,078
然后

184
00:11:30,078 --> 00:11:31,706
< No Speech >

185
00:11:31,706 --> 00:11:34,906
谁呢?是不是得对部门ID做分组?

186
00:11:34,906 --> 00:11:36,306
对吧同学们

187
00:11:36,306 --> 00:11:37,918
然后呢,上面

188
00:11:37,918 --> 00:11:39,130
< No Speech >

189
00:11:39,130 --> 00:11:46,890
是不是用一个命函数,然后一点 salary,这是不是求每个部门的最低的薪水

190
00:11:46,890 --> 00:11:48,378
< No Speech >

191
00:11:48,378 --> 00:11:50,178
每个部门的最低的薪水

192
00:11:50,178 --> 00:11:51,378
是不是这样就算出来了

193
00:11:51,378 --> 00:11:56,578
那么现在他将作为我查询当中的一个子查询

194
00:11:56,578 --> 00:11:57,578
加上一个括号

195
00:11:57,578 --> 00:11:59,130
< No Speech >

196
00:11:59,130 --> 00:12:00,150
把它放到里面

197
00:12:00,150 --> 00:12:00,670
对吧

198
00:12:00,670 --> 00:12:02,530
然后主查询要做什么呢

199
00:12:02,530 --> 00:12:03,678
大家想一下

200
00:12:04,474 --> 00:12:10,674
主查询是不是就要去显示这些人的名字、薪水和部门ID了?

201
00:12:10,674 --> 00:12:18,034
怎么办呢?那就select,from,where

202
00:12:18,034 --> 00:12:22,526
先主查询也是from,按不来意

203
00:12:22,526 --> 00:12:23,738
< No Speech >

204
00:12:23,738 --> 00:12:24,238
对吧

205
00:12:24,238 --> 00:12:25,438
然后一一啊

206
00:12:25,438 --> 00:12:27,738
然后贝尔一一

207
00:12:27,738 --> 00:12:28,826
< No Speech >

208
00:12:28,826 --> 00:12:32,106
一一的什么呢 一一的salary

209
00:12:32,106 --> 00:12:33,402
< No Speech >

210
00:12:33,402 --> 00:12:35,202
这肯定得用到印了是吧

211
00:12:35,202 --> 00:12:37,122
是他们的他们的他们的

212
00:12:37,122 --> 00:12:38,442
满足这些条件的

213
00:12:38,442 --> 00:12:41,962
啊 那我就写是他们的名字

214
00:12:41,962 --> 00:12:43,674
< No Speech >

215
00:12:43,674 --> 00:12:45,174
薪水

216
00:12:45,174 --> 00:12:47,054
还有 他们的

217
00:12:47,054 --> 00:12:49,210
< No Speech >

218
00:12:49,210 --> 00:12:59,450
所以我们现在知道紫察群返回的结果是多条了,所以这里我们得换成多行比较符

219
00:12:59,450 --> 00:13:07,870
现在查到的就是每个部门最低的那些雇员的名字以及部门薪水以及部门ID

220
00:13:07,870 --> 00:13:08,922
< No Speech >

221
00:13:08,922 --> 00:13:12,922
能明白吗?这是使用纸查询来解决这个问题

222
00:13:12,922 --> 00:13:20,318
好,那我们再来看一下这节课的实时效果反馈,对多行纸查询要使用什么?

223
00:13:20,318 --> 00:13:22,106
< No Speech >

224
00:13:22,106 --> 00:13:23,106
比较浮

225
00:13:23,106 --> 00:13:27,066
< No Speech >

226
00:13:27,066 --> 00:13:28,510
要使用什么比较书

227
00:13:28,510 --> 00:13:33,530
< No Speech >

228
00:13:33,530 --> 00:13:34,782
大于恶

229
00:13:34,782 --> 00:13:36,826
< No Speech >

230
00:13:36,826 --> 00:13:39,046
安逆恶死

231
00:13:39,046 --> 00:13:40,702
一 不等于

232
00:13:40,702 --> 00:13:42,490
< No Speech >

233
00:13:42,490 --> 00:13:46,690
印、安、拟和不等于,那么这个答案应该是哪个呢?

234
00:13:46,690 --> 00:13:52,810
大家想一下,很显然是B嘛,印、安、拟和奥才是多行比较符

235
00:13:52,810 --> 00:13:58,770
A里面等于、大于就是单行比较符,C里面的不等于也是单行比较符

236
00:13:58,770 --> 00:14:03,390
D里的不等于也是单行比较符,所以正确的答案是B

237
00:14:03,390 --> 00:14:05,626
< No Speech >

238
00:14:05,626 --> 00:14:11,066
好,同学们,那么以上我们就讲解了紫察循当中的多行紫察循

239
00:14:11,066 --> 00:14:17,346
多行紫察循当中,让大家难理解的就是安妮和奥,其实也并不是很难理解

240
00:14:17,346 --> 00:14:21,866
我说的已经很清楚了,大家好好琢磨琢磨,安妮是任意一个,奥是所有的

241
00:14:22,266 --> 00:14:24,906
你就能琢磨出来它们的区别了

242
00:14:24,906 --> 00:14:27,614
好,同学们,我们这节课就到这儿。

