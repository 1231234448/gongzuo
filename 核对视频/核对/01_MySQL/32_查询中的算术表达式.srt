1
00:00:00,890 --> 00:00:05,770
这节课我们再来讲解一下查询当中的算术表达式

2
00:00:05,770 --> 00:00:09,850
也就是说我们在查询当中还可以使用算术表达式

3
00:00:09,850 --> 00:00:12,490
来对查询到的数据做处理

4
00:00:12,490 --> 00:00:16,250
那么算术表达式有哪些呢?加减乘除

5
00:00:16,250 --> 00:00:21,050
我们用算术表达式可以创建数字跟日期数据的表达式

6
00:00:21,050 --> 00:00:24,190
也就是说日期也可以用算术表达式来处理的

7
00:00:24,190 --> 00:00:25,722
< No Speech >

8
00:00:25,722 --> 00:00:34,722
我们需要修改数据显示方式,如执行计算或者做假定推测,这些都可能用到算术表达式

9
00:00:34,722 --> 00:00:41,362
一个算术表达式可以包含列名、固定的数字值和算术运算符

10
00:00:41,362 --> 00:00:48,362
那么这里大家需要注意,这个在对查询到的结果做算术表达式处理时

11
00:00:48,362 --> 00:00:52,602
它只是对查询的结果做了算术表达式的处理

12
00:00:52,602 --> 00:00:56,122
并不会影响到我们表当中数据

13
00:00:56,122 --> 00:01:00,990
也就是说,它做完算术表达式处理后,这个数据并不会更新到我们表当中

14
00:01:01,498 --> 00:01:02,718
明白我的意思吧

15
00:01:03,578 --> 00:01:06,378
好我们来看一下使用算数表达式

16
00:01:06,378 --> 00:01:09,298
使用算数表达式就非常简单了

17
00:01:09,298 --> 00:01:12,778
你想对哪个列的结果做算数表达式的运算

18
00:01:12,778 --> 00:01:18,046
那你就在哪个列的列名后面加算数表达式以及你的运算

19
00:01:18,046 --> 00:01:19,386
< No Speech >

20
00:01:19,386 --> 00:01:22,746
比如说像这个图片当中的这个案例

21
00:01:22,746 --> 00:01:26,946
查询哪啊 是不是员工表吧 是吧

22
00:01:26,946 --> 00:01:29,946
然后投影了或者叫列选择了他的名字

23
00:01:29,946 --> 00:01:33,986
然后他的这个薪水还有薪水加300以后的结果

24
00:01:33,986 --> 00:01:37,266
那么现在他要查的是员工表安普赖伊

25
00:01:37,266 --> 00:01:40,186
好 我们先来看一下安普赖伊表的表结构啊

26
00:01:40,954 --> 00:01:42,314
选中安排一表

27
00:01:42,314 --> 00:01:43,966
然后DDL看这个表里

28
00:01:44,922 --> 00:01:50,162
有员工ID first name姓姓对吧 last name名啊

29
00:01:50,162 --> 00:01:51,962
first name姓 last name名

30
00:01:52,826 --> 00:01:58,346
然后phone number, hire date,入职时间,然后job id,工作编号,salary

31
00:01:58,346 --> 00:02:03,306
然后commission pct,佣金,是吧,还有一个manager id,经理id,是吧

32
00:02:03,306 --> 00:02:06,462
还有一个department id,这个是工作编号

33
00:02:07,258 --> 00:02:11,978
他的一个部门ID啊 这样的我们对于这个表的结构就有一个了解了 是吧

34
00:02:11,978 --> 00:02:17,178
好 那么现在呢 记录薪水的列叫salary 看到了吗

35
00:02:17,178 --> 00:02:22,078
现在呢 要对他的这个薪水列去做一个运算 做一个什么运算呢

36
00:02:22,906 --> 00:02:28,426
查询出薪水并且看薪水加完300以后的薪水是多少

37
00:02:28,426 --> 00:02:29,026
对不对

38
00:02:29,026 --> 00:02:32,026
对于这样的一个查询语句我们该怎么写

39
00:02:32,026 --> 00:02:32,706
是吧

40
00:02:32,706 --> 00:02:33,466
select

41
00:02:33,466 --> 00:02:36,106
然后先去定位你关心的列

42
00:02:36,106 --> 00:02:37,106
选择你关心的列

43
00:02:37,106 --> 00:02:37,566
对吧

44
00:02:38,138 --> 00:02:40,638
在这个列当中对salary做计算

45
00:02:40,638 --> 00:02:42,298
那就salary加300

46
00:02:42,298 --> 00:02:43,938
给定一个算术表达式就可以了

47
00:02:43,938 --> 00:02:45,182
然后from去定位表

48
00:02:45,182 --> 00:02:46,234
< No Speech >

49
00:02:46,234 --> 00:02:49,954
这样他就会多一个列,多一个叫列叫什么呢?

50
00:02:49,954 --> 00:02:54,554
叫salary加300,他会把薪水查出来,并且把薪水做一个加300以后

51
00:02:54,554 --> 00:02:55,934
这样一个结果显示出来

52
00:02:55,934 --> 00:02:58,170
< No Speech >

53
00:02:58,170 --> 00:02:59,550
好,我们看一个实例。

54
00:02:59,550 --> 00:03:00,666
< No Speech >

55
00:03:00,666 --> 00:03:06,386
是要求查询雇员的年薪并显示他们的这个雇员ID和名字

56
00:03:06,386 --> 00:03:07,666
注意看需求啊

57
00:03:07,666 --> 00:03:09,666
我们一定要会分析这个需求

58
00:03:09,666 --> 00:03:12,306
我们把这个需求搞懂了查询才好写

59
00:03:12,306 --> 00:03:14,946
首先他要查询雇员的年薪

60
00:03:15,306 --> 00:03:17,106
那么在雇员表当中

61
00:03:17,106 --> 00:03:19,786
salary是记录的这个人的月薪

62
00:03:20,106 --> 00:03:20,546
对不对

63
00:03:20,546 --> 00:03:22,026
那所谓的年薪是什么

64
00:03:22,186 --> 00:03:25,386
是不是乘以用12乘以他的salary就可以了

65
00:03:25,386 --> 00:03:25,826
对不对

66
00:03:25,826 --> 00:03:26,106
哎

67
00:03:26,106 --> 00:03:27,746
然后呢他要显示什么呢

68
00:03:27,746 --> 00:03:29,886
显示他们的雇员ID跟名字

69
00:03:30,650 --> 00:03:32,250
那这个题应该很好做了吧

70
00:03:32,250 --> 00:03:34,110
是吧我们拿着这个需求去写一个啊

71
00:03:34,110 --> 00:03:38,170
< No Speech >

72
00:03:38,170 --> 00:03:42,210
首先我们先来考虑它要什么 要显示什么

73
00:03:42,210 --> 00:03:44,050
显示它的固原ID跟名字

74
00:03:44,050 --> 00:03:46,430
固原ID就是AMPLIE下滑性ID

75
00:03:46,430 --> 00:03:49,306
< No Speech >

76
00:03:49,306 --> 00:03:51,838
firstname是姓嘛,名字是lastname

77
00:03:51,838 --> 00:03:53,722
< No Speech >

78
00:03:53,722 --> 00:04:01,802
他要这个雇员ID,Employee下滑线ID,然后逗号,还有一个名字,那是Last Name,对吧

79
00:04:01,802 --> 00:04:03,550
然后哪个表的呢?

80
00:04:03,550 --> 00:04:05,946
< No Speech >

81
00:04:05,946 --> 00:04:06,546
对吧

82
00:04:06,546 --> 00:04:08,266
然后这里又有一个要求了

83
00:04:08,266 --> 00:04:08,586
什么呢

84
00:04:08,586 --> 00:04:10,430
查询雇员的年薪

85
00:04:10,430 --> 00:04:15,034
< No Speech >

86
00:04:15,034 --> 00:04:16,634
投影一个salary对吧

87
00:04:16,634 --> 00:04:18,634
那么这个salary是它的月薪呢

88
00:04:18,634 --> 00:04:20,194
那怎么计算它的年薪呢

89
00:04:20,194 --> 00:04:21,874
用它乘以12是不是就可以了

90
00:04:21,874 --> 00:04:23,550
或者12乘以它是不是都可以呀

91
00:04:23,550 --> 00:04:25,914
< No Speech >

92
00:04:25,914 --> 00:04:29,114
明白了同学们 这样呢 这个执行这个语句时

93
00:04:29,114 --> 00:04:33,114
他会把salary查询出来 并且把每一个salary都会做一个12

94
00:04:33,114 --> 00:04:36,926
会去做一个乘以12的处理 这不就计算了这个人的年薪了

95
00:04:36,926 --> 00:04:39,994
< No Speech >

96
00:04:39,994 --> 00:04:44,126
这就是这些人的年薪 看到了吗 乘12以后的年薪

97
00:04:44,126 --> 00:04:47,162
< No Speech >

98
00:04:47,162 --> 00:04:50,162
好,这是使用算术运算符来计算年薪

99
00:04:50,162 --> 00:04:54,362
那么我们再来看一下,算术运算符也是有优先级的

100
00:04:54,362 --> 00:04:57,362
它的优先级跟我们数学上的优先级是一样的

101
00:04:57,362 --> 00:04:59,194
< No Speech >

102
00:04:59,194 --> 00:05:03,154
加减乘除的时候 如果都有的话 先乘除后加减 对吧

103
00:05:03,154 --> 00:05:07,034
乘法和除法比加减法的优先级要高

104
00:05:07,034 --> 00:05:10,074
然后相同优先级的运算符是从左到右计算

105
00:05:10,074 --> 00:05:13,794
也就是我这里既有乘也有除 或者也有除也有乘

106
00:05:13,794 --> 00:05:15,514
那么对于这样的优先级相同了

107
00:05:15,514 --> 00:05:18,074
它都是沿着由左到右的顺序来计算的

108
00:05:18,074 --> 00:05:18,674
明白这意思吧

109
00:05:18,674 --> 00:05:24,514
这跟我们正常数学上的算术的优先级是一模一样的

110
00:05:24,514 --> 00:05:28,714
然后原括号用于强制优先计算 并且使语更加清晰

111
00:05:28,714 --> 00:05:32,114
如果我们想让某一些计算优先级较高

112
00:05:32,114 --> 00:05:33,994
那么怎么办呢 我们可以用括号来表示

113
00:05:33,994 --> 00:05:34,942
这都是一样的

114
00:05:34,942 --> 00:05:36,058
< No Speech >

115
00:05:36,058 --> 00:05:39,938
如果算数表达式当中包含一个以上的运算符

116
00:05:39,938 --> 00:05:41,658
乘法和除法先计算

117
00:05:41,658 --> 00:05:45,338
如果在一个表达式当中运算符优先级相同

118
00:05:45,338 --> 00:05:47,018
计算从左到右进行

119
00:05:47,018 --> 00:05:50,658
可以用括号用原括号来强制其中的表达式的优先级

120
00:05:50,658 --> 00:05:52,862
小学数学大家都懂啊

121
00:05:53,626 --> 00:05:55,070
我们来看一个视频

122
00:05:55,070 --> 00:05:56,154
< No Speech >

123
00:05:56,154 --> 00:06:03,114
这个实例要求计算安普拉意表当中的员工的全年薪水加100以后

124
00:06:03,114 --> 00:06:05,994
注意啊全年薪水加100以后的薪水是多少

125
00:06:05,994 --> 00:06:09,074
也就是说先要全年薪水然后再加100对吧

126
00:06:09,074 --> 00:06:11,474
并显示他们的雇员ID与名字

127
00:06:11,474 --> 00:06:12,830
好我们来写一个这个

128
00:06:12,830 --> 00:06:16,858
< No Speech >

129
00:06:16,858 --> 00:06:18,494
先看他要什么。

130
00:06:18,494 --> 00:06:20,282
< No Speech >

131
00:06:20,282 --> 00:06:21,694
我们先看他要什么

132
00:06:22,234 --> 00:06:27,646
它要并显示他们的员工ID与名字,那就是

133
00:06:27,646 --> 00:06:32,122
< No Speech >

134
00:06:32,122 --> 00:06:33,822
对吧 下滑线ID

135
00:06:33,822 --> 00:06:35,418
< No Speech >

136
00:06:35,418 --> 00:06:36,978
逗号还有一个名字

137
00:06:36,978 --> 00:06:38,686
那就是last name

138
00:06:38,686 --> 00:06:41,786
< No Speech >

139
00:06:41,786 --> 00:06:44,666
然后他现在还有什么需求呢

140
00:06:44,666 --> 00:06:48,146
他的需求是要计算员工的全年薪水

141
00:06:48,146 --> 00:06:50,986
那全年薪水加100以后

142
00:06:50,986 --> 00:06:51,586
对吧

143
00:06:51,586 --> 00:06:53,066
那全年薪水怎么办呢

144
00:06:53,066 --> 00:06:54,622
那就是12乘以10

145
00:06:54,622 --> 00:06:58,906
< No Speech >

146
00:06:58,906 --> 00:07:01,054
然后呢他有一个加100

147
00:07:01,054 --> 00:07:03,162
< No Speech >

148
00:07:03,162 --> 00:07:04,562
那我这么做可不可以啊

149
00:07:04,562 --> 00:07:05,802
用不用考虑优先级啊

150
00:07:05,802 --> 00:07:06,362
用考虑的

151
00:07:06,362 --> 00:07:07,842
但是这个优先级是没有问题的

152
00:07:07,842 --> 00:07:08,322
是吧

153
00:07:08,322 --> 00:07:09,562
如果有乘除的时候

154
00:07:09,562 --> 00:07:11,162
乘除的优先级要高于加减

155
00:07:11,162 --> 00:07:13,002
所以先算12×celery

156
00:07:13,002 --> 00:07:14,878
然后再去算加100的结果

157
00:07:14,878 --> 00:07:19,098
< No Speech >

158
00:07:19,098 --> 00:07:22,298
年薪加100以后的一个结果啊

159
00:07:22,298 --> 00:07:24,958
我们可以在前面再算一个年薪看一下

160
00:07:24,958 --> 00:07:26,714
< No Speech >

161
00:07:26,714 --> 00:07:28,286
在这,再来一个年薪

162
00:07:28,286 --> 00:07:31,258
< No Speech >

163
00:07:31,258 --> 00:07:33,470
这是不是年薪加100以后的结果?

164
00:07:33,470 --> 00:07:34,618
< No Speech >

165
00:07:34,618 --> 00:07:35,998
好,我们再来看实验。

166
00:07:35,998 --> 00:07:38,330
< No Speech >

167
00:07:38,330 --> 00:07:45,170
要求计算安普拉一表当中的员工薪水加100以后的全年薪水是多少

168
00:07:45,170 --> 00:07:46,090
注意啊

169
00:07:46,090 --> 00:07:50,290
它是要把薪水月薪加100以后的全年薪水

170
00:07:50,290 --> 00:07:51,890
那这就要有考虑优先级的问题了

171
00:07:51,890 --> 00:07:52,290
是吧

172
00:07:52,290 --> 00:07:54,810
并且显示他们的员工ID

173
00:07:54,810 --> 00:07:58,970
< No Speech >

174
00:07:58,970 --> 00:08:01,370
我们在这个语句上做一个修改吧

175
00:08:01,370 --> 00:08:03,770
要员工ID名字是吧

176
00:08:03,770 --> 00:08:05,770
然后这个薪水去掉啊

177
00:08:05,770 --> 00:08:09,170
然后他那是薪水加100以后

178
00:08:09,170 --> 00:08:10,370
再去算年薪

179
00:08:10,370 --> 00:08:12,170
那很显然salary加100

180
00:08:12,170 --> 00:08:15,770
是不是应该加一个括号做一个优先级的指定了

181
00:08:15,770 --> 00:08:16,170
是吧

182
00:08:16,170 --> 00:08:17,886
先算他再去乘12

183
00:08:17,886 --> 00:08:20,218
< No Speech >

184
00:08:20,218 --> 00:08:25,018
这样就算到了薪水月薪加100以后的年薪是多少

185
00:08:25,018 --> 00:08:26,578
明白这意思吧?OK

186
00:08:26,578 --> 00:08:29,298
好 我们来看一下实时效果反馈

187
00:08:29,298 --> 00:08:32,926
一个算术表达式可以包含什么呢?

188
00:08:32,926 --> 00:08:34,714
< No Speech >

189
00:08:34,714 --> 00:08:36,914
固定的数字值

190
00:08:36,914 --> 00:08:38,474
C.率求运算符

191
00:08:38,474 --> 00:08:39,594
D.列名

192
00:08:39,594 --> 00:08:40,670
固定的数值

193
00:08:40,670 --> 00:08:42,938
< No Speech >

194
00:08:42,938 --> 00:08:46,078
A只有列名,那能叫算术表达式吗?是不可以的

195
00:08:46,938 --> 00:08:49,578
固定的数字值那也不是算术表达式

196
00:08:49,578 --> 00:08:50,526
算术表达式是……

197
00:08:51,162 --> 00:08:56,922
二者可以运算的,然后C算术运算符,你光要运算符没有数字也无法运算

198
00:08:56,922 --> 00:09:02,122
所以这个标准的答案是什么呢?应该是既有列明又要有固定的数字和算术运算符

199
00:09:02,122 --> 00:09:06,682
才能完成算术运算的,明白这意思吧?所以答案应该是D

200
00:09:06,682 --> 00:09:13,242
好同学们,那么以上我们就讲解了查询当中的算术运算符的这样一个处理

201
00:09:13,242 --> 00:09:14,526
好,那我们接下来课呢!

